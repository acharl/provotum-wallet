<ion-content>
  <ng-container>
    <ion-list lines="none">
      <ion-card>
        <img src="assets/img/ciphers_wallet.svg" />
        <ion-card-header>
          <ion-text color="primary">Encrypted Votes</ion-text>
        </ion-card-header>

        <ion-card-content>
          <ion-text color="secondary">
            <h2>
              Fetch the encrypted votes from the Public Bulletin Board and sync with AirGap Vault for an offline partial decryption of votes
            </h2>
          </ion-text>
          <!-- <ion-item>
            <ion-label>pk: {{ _keyShare.pk | shortenString }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>challenge: {{ _keyShare.proof.challenge | shortenString }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>response: {{ _keyShare.proof.response | shortenString }}</ion-label>
          </ion-item> -->

          <ion-item *ngIf="!(busy$ | async)">
            <ion-button shape="round" size="small" color="primary" slot="end" color="secondary" (click)="fetchEncryptedCiphers()">
              FETCH & SYNC
            </ion-button>
          </ion-item>

          <ion-item *ngIf="busy$ | async; then loading">
            <ion-button shape="round" size="small" color="primary" slot="end" color="secondary" (click)="fetchEncryptedCiphers()">
              FETCH & SYNC
            </ion-button>
          </ion-item>
        </ion-card-content>

        <ng-template #loading>
          <ion-item>
            <ion-spinner slot="end"></ion-spinner>
          </ion-item>
        </ng-template>
      </ion-card>
    </ion-list>
  </ng-container>
</ion-content>
